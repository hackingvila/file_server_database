{
    "ani":"aW1wb3J0IGh0dHAuc2VydmVyLCB0aW1lICwgcmFuZG9tLCBweXNob3J0ZW5lcnMKaW1wb3J0IHNvY2tldHNlcnZlciwgb3Msc3lzLCB0aHJlYWRpbmcKZnJvbSBmdW5jdG9vbHMgaW1wb3J0IGxydV9jYWNoZQpmcm9tIG9zIGltcG9ydCBzeXN0ZW0KZnJvbSBweW5ncm9rIGltcG9ydCBuZ3JvaywgY29uZgpmcm9tIHRlcm1jb2xvciBpbXBvcnQgY29sb3JlZCwgY3ByaW50CmZyb20gdGhyZWFkaW5nIGltcG9ydCBUaHJlYWQKZnJvbSB0aW1lIGltcG9ydCBzbGVlcApmcm9tIGNvbG9yYW1hIGltcG9ydCBGb3JlLCBCYWNrLCBTdHlsZSwgaW5pdAoKCnRyeToKICAgIEBscnVfY2FjaGUobWF4c2l6ZSA9IDk5OTkpCiAgICBkZWYgY29udmVydChzZWNvbmRzKToKICAgICAgICBzZWNvbmRzID0gc2Vjb25kcyAlICgyNCAqIDM2MDApCiAgICAgICAgaG91ciA9IHNlY29uZHMgLy8gMzYwMAogICAgICAgIHNlY29uZHMgJT0gMzYwMAogICAgICAgIG1pbnV0ZXMgPSBzZWNvbmRzIC8vIDYwCiAgICAgICAgc2Vjb25kcyAlPSA2MAogICAgICAgIHJldHVybiAiJWQ6JTAyZDolMDJkIiAlIChob3VyLCBtaW51dGVzLCBzZWNvbmRzKQoKICAgIEBscnVfY2FjaGUobWF4c2l6ZSA9IDk5OTkpCiAgICBkZWYgdGltZXIoKToKICAgICAgICBpbml0KCkKICAgICAgICBuID0gNzE2NQogICAgICAgIHByaW50KCJcbiIsIGVuZD0iXHIiKQogICAgICAgIHdoaWxlIG4gPiAwOgogICAgICAgICAgICBwcmludChCYWNrLlJFRCwgIiBbfl0gVGhpcyB0dW5uZWwgd2lsbCBkaXNwb3NlZCBpbjotPiAiLCBjb252ZXJ0KG4pLCBlbmQ9IlxyIikKICAgICAgICAgICAgcHJpbnQoU3R5bGUuUkVTRVRfQUxMLCBlbmQ9IlxyIikKICAgICAgICAgICAgbiAtPSAxCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMSkKICAgICAgICBvcy5zeXN0ZW0oImNscyIgaWYgb3MubmFtZT09ICdudCcgZWxzZSAnY2xlYXInKQogICAgICAgIGxvZ28oKQogICAgICAgIHByaW50KCJcblxuXG4iKQogICAgICAgIGNwcmludCgiWypdIFRoaXMgdHVubmVsIHNlc3Npb24gaGFzIGJlZW4gZXhwaXJlZCIsICdyZWQnLCBhdHRycz1bJ2JvbGQnXSwgZmlsZT1zeXMuc3RkZXJyKQogICAgICAgIHByaW50KCJcbiIpCiAgICAgICAgY3ByaW50KCJbI10gV2Vic2l0ZTogaHR0cHM6Ly9oYWNraW5ndmlsYS53b3JkcHJlc3MuY29tIFxuWyNdIEdpdGh1YjogaHR0cHM6Ly9naXRodWIuY29tL2RlYWRseXNub3dtYW4zMzA4IiwgJ2dyZWVuJywgYXR0cnM9Wydib2xkJ10sIGZpbGU9c3lzLnN0ZGVycikKICAgICAgICBzeXMuZXhpdCgxKQogICAgICAgIAogICAgZGVmIGxvZ28oKToKICAgICAgICBsb2dvID0gciIiIgogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBfX19fX18gXyBfICAgICAgICAgICAgIF9fX19fICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHwgIF9fXyhfKSB8ICAgICAgICAgICAvICBfX198ICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgfCB8XyAgIF98IHwgX19fIF9fX19fX1wgYC0tLiAgX19fIF8gX19fXyAgIF9fX19fIF8gX18gCiAgICAgICAgICAgICAgICB8ICBffCB8IHwgfC8gXyBcX19fX19ffGAtLS4gXC8gXyBcICdfX1wgXCAvIC8gXyBcICdfX3wKICAgICAgICAgICAgICAgIHwgfCAgIHwgfCB8ICBfXy8gICAgICAvXF9fLyAvICBfXy8gfCAgIFwgViAvICBfXy8gfCAgIAogICAgICAgICAgICAgICAgXF98ICAgfF98X3xcX19ffCAgICAgIFxfX19fLyBcX19ffF98ICAgIFxfLyBcX19ffF98ICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICA8LS0tICAgWytdIE1hZGUgYnkgQW5pa2V0IFsrXSAtLS0+ICAgICAgICAgCgogICAgICAgICIiIgogICAgICAgIGNwcmludChmIntsb2dvfSIsICd5ZWxsb3cnLCBhdHRycz1bJ2JvbGQnXSwgZmlsZT1zeXMuc3RkZXJyKQogICAgIyAgIGNwcmludChjb2xvcmVkKCJbK10gTWFkZSBieSBBbmlrZXQgWytdIiwgImdyZWVuIiwgYXR0cnM9WyJibGluayJdKSkKCiAgICBkZWYgbG9nbzIoKToKICAgICAgICBsb2dvMiA9IHIiIiIKICAgICAgICAgICAgICAgIOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhOKWhAogICAgICAgICAgICAgICAg4paI4paIIOKWhOKWhOKWhOKWiOKWiOKWhOKWiOKWiCDilojilogg4paE4paE4paI4paI4paI4paI4paIIOKWhOKWhOKWhCDilogg4paE4paE4paIIOKWhOKWhOKWgOKWiOKWgOKWiOKWiOKWiOKWgOKWiCDiloTiloTilogg4paE4paE4paA4paI4paICiAgICAgICAgICAgICAgICDilojilogg4paE4paE4paI4paI4paIIOKWhOKWiCDilojilogg4paE4paE4paI4paE4paE4paI4paI4paE4paE4paE4paA4paA4paIIOKWhOKWhOKWiCDiloDiloDiloTilojilogg4paAIOKWiOKWiCDiloTiloTilogg4paA4paA4paE4paI4paICiAgICAgICAgICAgICAgICDilojilogg4paI4paI4paI4paI4paE4paE4paE4paI4paE4paE4paI4paE4paE4paE4paI4paI4paI4paI4paIIOKWgOKWgOKWgCDilojiloTiloTiloTilojiloTilojiloTiloTilojilojilojiloTilojilojilojiloTiloTiloTilojiloTilojiloTiloTilojilogKICAgICAgICAgICAgICAgIOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgOKWgAogICAgICAgICAgICAgICAgICAgICAgICAgPC0tLSAgIFsrXSBNYWRlIGJ5IEFuaWtldCBbK10gLS0tPiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgIDwtLS1bK10gIGh0dHBzOi8vaGFja2luZ3ZpbGEud29yZHByZXNzLmNvbSAgWytdLS0tPgoKICAgICAgICAiIiIKICAgICAgICBjcHJpbnQoZiJ7bG9nbzJ9IiwgJ3JlZCcsIGF0dHJzPVsnYm9sZCddLCBmaWxlPXN5cy5zdGRlcnIpCgogICAgb3Muc3lzdGVtKCJjbHMiIGlmIG9zLm5hbWU9PSAnbnQnIGVsc2UgJ2NsZWFyJykKICAgIGxvZ28oKQogICAgciA9IHJhbmRvbS5yYW5kaW50KDEwMDAsIDY1NTM1KQogICAgbiA9IGludChpbnB1dChjb2xvcmVkKCJcblxuICBbP10gVHlwZSB5b3VyIHBvcnQgbnVtYmVyICgxMDAwLTY1NTM1KS9bUHJlc3MgRU5URVIgZm9yIHJhbmRvbSBwb3J0XSAgLS0+ICAiLCAiY3lhbiIsIGF0dHJzPVsiYm9sZCJdKSApb3IgcikKICAgIG9zLnN5c3RlbSgiY2xzIiBpZiBvcy5uYW1lPT0gJ250JyBlbHNlICdjbGVhcicpCiAgICBwcmludCgiXG4iKQogICAgbG9nbzIoKQogICAgUE9SVCA9ICBuIAogICAgaGFuZGxlciA9IGh0dHAuc2VydmVyLlNpbXBsZUhUVFBSZXF1ZXN0SGFuZGxlcgogICAgdHVubmVsX3VybCA9ICJodHRwOi8vbG9jYWxob3N0OjQwNDAvaW5zcGVjdC9odHRwIgoKICAgIEBscnVfY2FjaGUobWF4c2l6ZSA9IDk5OTkpCiAgICBkZWYgdF9ydW4oKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHdpdGggc29ja2V0c2VydmVyLlRDUFNlcnZlcigoIiIsIFBPUlQpLCBoYW5kbGVyKSBhcyBodHRwZDoJCQkJCiAgICAgICAgICAgICAgICBjcHJpbnQoIiBcdCEhIEF0dGVudGlvbiAhISIsICdyZWQnLCBhdHRycz1bJ2JvbGQnXSwgZmlsZT1zeXMuc3RkZXJyKSAgICAgICAgICAgIAogICAgICAgICAgICAgICAgcHJpbnQoY29sb3JlZCgiW3hdIFByZXNzIENUUkwgKyBDIGZvciBzdG9wIHNlcnZlciBbeF0iLCAicmVkIiwgJ29uX3llbGxvdycpKQogICAgICAgICAgICAgICAgcHJpbnQoIlxuIikKICAgICAgICAgICAgICAgIGNwcmludCgiKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsiLCAnZ3JlZW4nLCBhdHRycz1bJ2JvbGQnXSwgZmlsZT1zeXMuc3RkZXJyKSAKICAgICAgICAgICAgICAgIGNwcmludChmInwgWy1dIEZpbGUtU2VydmVyIGVuYWJsZWQgcG9ydDo6IC0tPiB7bn0gfCIsICdyZWQnLCBhdHRycz1bJ2JvbGQnXSwgZmlsZT1zeXMuc3RkZXJyKSAKICAgICAgICAgICAgICAgIGNwcmludCgiKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsiLCAneWVsbG93JywgYXR0cnM9Wydib2xkJ10sIGZpbGU9c3lzLnN0ZGVycikgCiAgICAgICAgICAgICAgICBjcHJpbnQoZiJbLV0gSW5zcGVjdGluZyB0aGUgVHJhZmZpYyB0aHJvdWdoIFR1bm5lbCAtLT4ge3R1bm5lbF91cmx9IiwgJ2dyZWVuJywgYXR0cnM9Wydib2xkJ10sIGZpbGU9c3lzLnN0ZGVycikKICAgICAgICAgICAgICAgIHByaW50KGNvbG9yZWQoIlsqXSBMb2NhbCBTZXJ2ZXIgc3RhcnRlZCBhdDogLS0+IGh0dHA6Ly8xMjcuMC4wLjE6IiArIHN0cihQT1JUKSwgImN5YW4iKSkKICAgICAgICAgICAgICAgIGh0dHBkLnNlcnZlX2ZvcmV2ZXIoKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgb3Muc3lzdGVtKCJjbHMiIGlmIG9zLm5hbWU9PSAnbnQnIGVsc2UgJ2NsZWFyJykKICAgICAgICAgICAgcHJpbnQoIlx0U29tZXRoaW5nIGVycm9yXG5cdFx0IG9yIikKICAgICAgICAgICAgcHJpbnQoIlxuWytdIEtleWJvYXJkIEludGVycnVwdCBieSB1c2VyIFsrXSIpCiAgICAgICAgICAgIHN5cy5leGl0KDEpCgogICAgQGxydV9jYWNoZShtYXhzaXplID0gOTk5OSkKICAgIGRlZiByZW1vdGVfbGluaygpOgogICAgICAgIHVybCA9IG5ncm9rLmNvbm5lY3QoUE9SVCkucHVibGljX3VybAogICAgICAgIHJlc3VsdCA9IHVybC5yZXBsYWNlKCJodHRwIiwgImh0dHBzIikKICAgICAgICBwcmludChjb2xvcmVkKCdbKl0gVHVubmVsL1JlbW90ZSBhY2Nlc3MgVVJMOiAtLT4gJysgcmVzdWx0LCAiY3lhbiIpKQogICAgICAgIG5ncm9rX3Byb2Nlc3MgPSBuZ3Jvay5nZXRfbmdyb2tfcHJvY2VzcygpCiAgICAgICAgQGxydV9jYWNoZShtYXhzaXplID0gOTk5OSkKICAgICAgICBkZWYgdXJsX3Nob3J0bmVyKCk6CiAgICAgICAgICAgIHMgPSBweXNob3J0ZW5lcnMuU2hvcnRlbmVyKGRvbWFpbj0iaHR0cHM6Ly90dG0uc2giKQogICAgICAgICAgICBzMSA9IHMubnVsbHBvaW50ZXIuc2hvcnQocmVzdWx0KQogICAgICAgICAgICBwcmludChjb2xvcmVkKCJbKl0gU2hvcnQgVVJMOiAtLT4gIiArIHMxICwgImN5YW4iKSkKICAgICAgICB0MyA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PXVybF9zaG9ydG5lcikKICAgICAgICB0My5zdGFydCgpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBuZ3Jva19wcm9jZXNzLnByb2Mud2FpdCgpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBwcmludCgiIFNodXR0aW5nIGRvd24gc2VydmVyLiIpCiAgICAgICAgICAgIG5ncm9rLmtpbGwoKQoKICAgIEBscnVfY2FjaGUobWF4c2l6ZSA9IDk5OTkpCiAgICBkZWYgTWFpbigpOgogICAgICAgIHRyeToKICAgICAgICAgICAgdCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PXRfcnVuLCBhcmdzPSgpKQogICAgICAgICAgICB0MiA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PXJlbW90ZV9saW5rLCBhcmdzPSgpKQogICAgICAgICAgICB0Mi5zdGFydCgpCiAgICAgICAgICAgIHQuc3RhcnQoKQogICAgICAgICAgICB0aW1lcl90aHJlYWQgPSBUaHJlYWQodGFyZ2V0PXRpbWVyKQogICAgICAgICAgICB0aW1lLnNsZWVwKDcpCiAgICAgICAgICAgIHRpbWVyX3RocmVhZC5zdGFydCgpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBvcy5zeXN0ZW0oImNscyIgaWYgb3MubmFtZT09ICdudCcgZWxzZSAnY2xlYXInKQogICAgICAgICAgICBwcmludCgiXHRTb21ldGhpbmcgZXJyb3Jcblx0XHQgb3IiKQogICAgICAgICAgICBwcmludCgiXG5bK10gS2V5Ym9hcmQgSW50ZXJydXB0IGJ5IHVzZXIgWytdIikKICAgICAgICAgICAgc3lzLmV4aXQoMSkKCiAgICBpZiBfX25hbWVfXz09Il9fbWFpbl9fIjoKICAgICAgICBNYWluKCkKICAgICAgICAKZXhjZXB0OgogICAgcHJpbnQoIlxuIDwtLS0gVHJ5IEFnYWluIC0tLT4iKQogICAgc3lzLmV4aXQoMSk="
}
